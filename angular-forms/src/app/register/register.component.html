<div class="card">
  <div class="card-header text-white bg-info">S'enregistrer</div>
  <div class="card-body">
    <form novalidate (ngSubmit)="saveData()" [formGroup]="registerForm">
      <div class="form-row">
        <div class="col-md-6 mb-3">
          <label>Nom</label>
          <input
            type="text"
            class="form-control"
            placeholder="Nom"
            formControlName="lastName"
            required
            minlength="4"
            [ngClass]="{
              'is-invalid': registerForm.get('lastName').touched && !registerForm.get('lastName').valid
            }"
          />
          <div class="invalid-feedback">
            <span *ngIf="registerForm.get('lastName').errors?.required"> Entrez votre nom </span>
            <span *ngIf="registerForm.get('lastName').errors?.minlength">
              Minimum 4 charactères
            </span>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label>Prenom</label>
          <input
            type="text"
            class="form-control"
            placeholder="Prenom"
            formControlName="firstName"
            required
            maxlength="20"
            [ngClass]="{
              'is-invalid': registerForm.get('firstName').touched && !registerForm.get('firstName').valid
            }"
          />

          <div class="invalid-feedback">
            <span *ngIf="registerForm.get('firstName').errors?.required">
              Entrez votre nom
            </span>
            <span *ngIf="registerForm.get('firstName').errors?.maxlength">
              Maxnimum 20 charactères
            </span>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="col-md-6 mb-3">
          <label>E-Mail</label>
          <input
            type="email"
            class="form-control"
            placeholder="E-Mail"
            formControlName="email"
            required
            email
            [ngClass]="{
              'is-invalid': registerForm.get('email').touched && !registerForm.get('email').valid
            }"
          />
          <div class="invalid-feedback">
            <span *ngIf="registerForm.get('email').errors?.required">
              Entrez votre E-Mail
            </span>
            <span *ngIf="registerForm.get('email').errors?.email">
              L'E-Mail n'est pas valide
            </span>
          </div>
        </div>
      </div>

      <div class="form-row mb-3">
        <div class="col-md-12">
          <div class="form-check mt-4 pt-3">
            <label for="sendCatalogId" class="form-check-label">
              <input type="checkbox" class="form-check-input" formControlName="sendCatalog">
              Oui je souhaite recevoir la pub
            </label>
          </div>
        </div>
      </div>

      <!-- <div *ngIf="user.sendCatalog">

        <div class="form-row mb-3">
          <div class="col-md-12">
            <label for="">Adresse 1</label>
            <input type="text" class="form-control">
          </div>
        </div>
        <div class="form-row mb-3">
          <div class="col-md-12">
            <label for="">Adresse 2</label>
            <input type="text" class="form-control">
          </div>
        </div>

        <div class="form-row">
          <div class="col-md-6 mb-3">
            <label for="">Ville</label>
            <input type="text" class="form-control">
          </div>
          <div class="col-md-3 mb-3">
            <label for="">Departement</label>
            <select class="form-control">
              <option value="">Selectionner un département</option>
              <option value="A">A</option>
              <option value="A">B</option>
              <option value="A">C</option>
              <option value="A">D</option>
            </select>
          </div>
          <div class="col-md-3 md-3">
            <label for="">Code postal</label>
            <input type="number" class="form-control">
          </div>
        </div>
      </div> -->

      <div class="text-right">
        <button class="btn btn-info" type="submit"
        [disabled]="!registerForm.valid">Sauvegarder</button>
      </div>
    </form>
  </div>
</div>

<hr>

<p> Dirty: {{ registerForm.dirty }} </p>
<p> Pristine: {{ registerForm.pristine }} </p>
<p> Valid: {{ registerForm.valid }} </p>
<p> InValid: {{ registerForm.invalid }} </p>
<p> Value: </p>
<pre>{{ registerForm.value | json  }} </pre>
